---
title: jQuery学习笔记（四）jQuery匹配选择器 过滤与表单
category: 学习笔记
tag: [jQuery,前端开发]
date: 2016-11-20 20:51:00
---

蛋疼的我又回来了，因为心里感觉总是有块石头没落下来，过滤选择器是我比较喜欢用，同时了解也不是很清楚的选择器，在项目里实际使用的时候总出现一些莫名其妙的问题，我知道这是对过滤选择器的知识了解的不够多导致的，这也促使我今晚上一定要写点东西出来，能写出来心里就明白了，就算是写不完也没事，反正明天照样不去公司，有时间继续补。<!--more-->

在上上篇文章里面，我们讨论了jQuery四大匹配选择器中的前两个，基本选择器与层次选择器，现在我们来讨论后两个，过滤选择器与表单选择器。

### 过滤选择器
有时候我们会有一些比较特殊的需求，例如，我们使用$("#test p")选择到了id为test的元素的后代元素中的p元素，但我们想给选择到的第一个p元素设置格外的CSS样式，这就要求我们从已经选择到的众多p元素中筛选出符合条件的第一个p元素，如果我们仍然只使用基本选择器与层次选择器，那无疑会给工作带来一些困难。幸运的是，jQuery的开发者们早就想到了这个问题，并且给出了相应的解决方案，这就是过滤选择器。

过滤选择器可以通过特定的过滤规则来筛选出所需的DOM元素，它的语法类似于CSS中的伪类选择器，以冒号作为开头。过滤选择器根据其过滤规则的种类，又可以分为基本过滤选择器、内容过滤选择器、可见性过滤选择器、属性过滤选择器、子元素过滤选择器以及表单属性过滤选择器，下面我们分别对这数种过滤选择器展开讨论。

#### 基本过滤选择器
基本过滤选择器也可以称之为简单过滤选择器，它是过滤选择器中使用最为广泛的一种，它主要用来选择首、尾、指定索引、奇数或偶数位的元素等等。具体包含有如下几种过滤规则。

##### :first
从找到的众多元素中筛选出第一个元素，例如上面所要求的，从找到的众多的p元素中筛选出第一个p元素，便可以通过$("p:first")实现。
##### :last
从找到的众多元素中筛选出最后一个元素，效果与:first恰好相反。
##### :not(selector)
从找到的众多元素中去除所有与给定选择器相匹配的元素，其中selector为一个匹配选择器，可以是jQuery所支持的各种匹配选择器的自由组合，可以简单也可以复杂。举个例子：
``` html
<div>
  <p>1</p>
  <p>2</p>
  <span>3</span>
  <button>4</button>
  <p>5</p>
  <p>6</p>
</div>
```
我们使用$("div>")，则会选择div元素的所有子元素，若我们想要排除button元素，则可以使用$("div>:not(button)")，若还想排除span元素，则可以使用$("div>:not(button, span)")，若想排除所有的p元素，除了可以写成$("div>:not(p)")外，也可以写成$("div>:not(div>p)")，甚至还可以写成$("div>:not(div>:not(div>:not(p)))")，三者的效果都是相同的（不过应该不会有人闲的蛋疼到写第二种和第三种吧……）！这也再次证明了jQuery的灵活性。
##### :odd
从找到的众多元素中筛选出所有索引值为奇数的元素，这里需要注意两点，一是<span style="color: red"><b>索引值是从0开始计数的；</b></span>二是<span style="color: red"><b>需要的索引值不能使用index()函数来得到；</b></span>这是因为index()函数获取的元素的索引值是元素在实际的HTML文档里面的排序值，不是在众多被选择器选择出来的元素里面的排序值，两者不是一回事。
##### :even
作用与:odd恰好相反，从找到的众多元素中筛选出所有索引值为偶数的元素，使用时同样需要注意以上两点。:odd与:even在显示表格时比较有用，比如要求相邻数据行的颜色不同，那么就可以使用这两个筛选器来对奇数行数据和偶数行数据赋予不同的背景颜色。
##### :eq(index)
从找到的众多元素中筛选出索引值为index的元素，使用时同样需要注意以上两点。
##### :gt(index)
从找到的众多元素中筛选出索引值大于index的元素，使用时同样需要注意以上两点，例如，想从选择器选择到的10个p元素中筛选出后面7个，就可以使用$("p:gt(2)")。
##### :lt(index)
作用与上面的:gt恰好相反，从找到的众多元素中筛选出索引值小于index的元素，使用时同样需要注意以上两点。
##### :header
从找到的众多元素中筛选出h1、h2、h3这类标题元素，没用过不敢多说话。
##### :animated
从找到的众多元素中筛选出正在执行动画效果的元素，同样没用过不敢多说话。

#### 内容过滤选择器
内容过滤选择器可以根据HTML文本内容进行过滤选择，具体包含有如下几种规则。

##### :contains(text)
从找到的众多元素中筛选出包含给定文本text的元素，例如，想从选择器选择到的所有div元素中筛选出包含文本“test”的div元素（类似这种\<div\>1234test5678\</div\>），就可以使用$("div:contains('test')")，需要注意单双引号的交错使用，防止错误匹配。
##### :empty
从找到的众多元素中筛选出不包含子元素或者文本为空的元素，就类似这种\<div\>\</div\>。
##### :has(selector)
从找到的众多元素中筛选出包含有选择器selector匹配的元素的元素，例如，想从选择器选择到的所有div元素中筛选出包含有p子元素的元素，就可以使用$("div:has(p)")。需要注意的是，:has与:not并不是恰好相反的，:not检查的是元素本身，例如这个元素是不是button元素，而:has关注元素的子元素是不是符合条件，例如这个元素有没有一个button子元素。
##### :parent
从找到的众多元素中筛选出包含有子元素或者文本不为空的元素，作用与:empty恰好相反。

#### 可见性过滤器
可见性过滤器根据元素是否可见来筛选元素，它主要是hidden查找隐藏的元素和visible查找可见的元素，具体包含有如下两种规则。

##### :hidden
从找到的众多元素中筛选出不可见的元素，例如从找到的众多tr元素中筛选出不可见的tr元素，就可以使用$("tr:hidden")。
___
<span style="color: red; font-weight: bold">注意：</span>jQuery有两个内置函数，show()与hide()，它们的作用分别是显示元素与隐藏元素，我们知道元素的隐藏有许多方法，例如设置其css属性visibility，设置为hidden则元素不可见，设置为visible则元素可见，或者设置opacity（透明度）属性，设置为0则元素不可见（完全透明），设置为1则元素可见，与此同时还可以设置display属性，设置为none则元素不可见，设置为其他类型，如inline或者block则元素可见，其实这些方式是有区别的，使用display可以使元素完全隐藏，而使用visibility或opacity，虽然元素不可见了，但是会在元素本来的位置留下一片空白，大小与元素的大小相同，也就是这两种方式仅仅是使得元素不可见但还会保留元素在文档中的位置。需要明确的是，使用jQuery的内置函数show()和hide()，其效果与使用display的效果是相同的。
___
##### :visible
从找到的众多元素中筛选出可见的元素，作用恰好与:hidden相反。

#### 属性过滤器
